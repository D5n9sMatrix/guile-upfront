
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Modules and Libraries</title>
    <style type="text/css" media="screen">
      html, body, div, span, object, iframe, h1, h2, h3, h4, h5, h6, p,
      blockquote, pre, a, abbr, address, cite, code, del, dfn, em, figure,
      img, ins, kbd, q, s, samp, small, strong, sub, sup, var, b, u, i, dl,
      dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption,
      tbody, tfoot, thead, tr, th, td {
        background: transparent none repeat scroll 0 0;
        border: 0 none;
        font-size: 100%;
        margin: 0;
        outline: 0 none;
        padding: 0;
        vertical-align: baseline;
      }

      h1 { font-size: 200%; }
      h2 { font-size: 160%; }
      h3 { font-size: 120%; }
      h4 { font-size: 100%; }
      h5 { font-size: 80%; }
      h6 { font-size: 80%; font-weight: normal; }

      ul, ol {
        margin: 1.4em 0;
      }
      ul ul, ol ol, ul ol, ol ul {
        margin-top: 0;
        margin-bottom: 0;
      }
      ul, ol {
        margin-left: 2.8em;
      }

      ol {
        list-style: decimal;
      }
      ol ol {
        list-style: lower-alpha;
      }
      ol ol ol {
        list-style: lower-roman;
      }
      ol ol ol ol {
        list-style: decimal;
      }

      blockquote {
        margin: 0.1em;
        margin-left: 1em;
        border-left: 2px solid #cccccc;
        padding-left: 0.7em;
      }

      .color_red { color: #dc322f; }
      .color_blue { color: #268bd2; }
      .color_green { color: #859901; }
      .color_yellow { color: #b58901; }
      .color_black { color: black; }
      .color_white { color: white; }

      .font_big {
        font-size: 1.2em;
      }

      .ddoc_section_h {
        font-weight: bold;
        font-size: 13px;
        line-height: 19.5px;
        margin-top: 11px;
        display: block;
      }

      body.dlang .dlang {
        display: inline-block;
      }

      body.dlang .declaration .dlang {
          display: block;
      }

      body.dlang .ddoc_header_anchor a.dlang {
        display: block;
        color: rgba(0, 136, 204, 1);
        text-decoration: none;
      }

      body.dlang .ddoc_header_anchor .code {
        color: rgba(0, 136, 204, 1);
      }

      #ddoc_main .module {
          border-color: currentColor rgba(233, 233, 233, 1) rgba(233, 233, 233, 1);
          border-style: none solid solid;
          border-width: 0 1px 1px;
          overflow-x: hidden;
          padding: 15px;
      }

      #ddoc_main .section .section {
        margin-top: 0;
      }

      #ddoc_main .ddoc_module_members_section {
          padding: 1px 0 0;
          transition: transform 0.3s ease 0s;
      }

      #ddoc_main .ddoc_member, #ddoc_main .ddoc_module_members section.intro {
          background: #fff none repeat scroll 0 0;
          list-style-type: none;
          width: 100%;
      }

      #ddoc_main .ddoc_header_anchor {
          font-size: 1.4em;
          transition: transform 0.3s ease 0s;
      }

      #ddoc_main .ddoc_header_anchor > .code {
          display: inline-block;

      }

      #ddoc_main .ddoc_decl {
        background-color: transparent;
        height: 100%;
        left: 0;
        top: 0;
        padding: 0;
        padding-left: 15px;
      }

      #ddoc_main .ddoc_decl .section, #ddoc_main .section.ddoc_sections {
        background: white none repeat scroll 0 0;
        margin: 0;
        padding: 5px;
        position: relative;
        border-radius: 5px;
      }

      #ddoc_main .ddoc_decl .section h4:first-of-type, #ddoc_main .section.ddoc_sections h4:first-of-type {
        font-size: 13px;
        line-height: 1.5;
        margin-top: 21px;
      }

      #ddoc_main .section .declaration {
          margin-top: 21px;
      }

      #ddoc_main .section .declaration .code {
          color: rgba(0, 0, 0, 1);
          margin-bottom: 15px;
          padding-bottom: 6px;
      }

      #ddoc_main .declaration div .para {
          margin-bottom: 0;
      }

      #ddoc_main .ddoc_params .graybox tr td:first-of-type {
        padding: 7px;
        text-align: right;
        vertical-align: top;
        word-break: normal;
        white-space: nowrap;
      }

      #ddoc_main .ddoc_params .graybox {
        border: 0 none;
      }

      #ddoc_main .ddoc_params .graybox td {
        border-color: rgba(214, 214, 214, 1);
      }

      #ddoc_main .ddoc_params .graybox tr:first-child > td {
        border-top: 0 none;
      }

      #ddoc_main .ddoc_params .graybox tr:last-child > td {
        border-bottom: 0 none;
      }

      #ddoc_main .ddoc_params .graybox tr > td:first-child {
        border-left: 0 none;
      }

      #ddoc_main .ddoc_params .graybox tr > td:last-child {
        border-right: 0 none;
        width: 100%;
      }

      #ddoc_main em.term, #ddoc_main em.term .code {
        color: rgba(65, 65, 65, 1);
        font-size: 12px;
        font-style: italic;
        line-height: 1.5;
      }

      #ddoc_main .see-also {
        cursor: pointer;
        font-family: Menlo,monospace;
      }

      #ddoc_main .ddoc_decl .section > div:last-of-type {
        margin-bottom: 15px;
      }

      #ddoc_main .ddoc_member, #ddoc_main .ddoc_module_members {
          transition: transform 0.3s ease 0s;
      }

      #ddoc_main .code_sample {
        background: inherit;
      }

      #ddoc_main .declaration .code-line {
          display: block;
          font: 1em Menlo,monospace;
      }

      #ddoc_main a[name] {
        margin: -112px 0 0;
        padding-top: 112px;
      }

      #ddoc_main .ddoc_decl td {
        max-width: inherit;
      }

      #ddoc_main .declaration a {
        color: inherit;
      }

      #ddoc_main .declaration a:hover {
          color: rgba(0, 136, 204, 1);
          text-decoration: underline;
      }

      body.ddoc {
        background-color: transparent;
        color: rgba(0, 0, 0, 1);
        font-family: Helvetica,Arial,sans-serif;
        font-size: 62.5%;
        margin: 0;
        border: 0;
        left: 0;
        top: 0;
        padding: 0;
      }

      .ddoc a[name] {
        display: block;
        height: 0;
        margin: -85px 0 0;
        padding-top: 85px;
        width: 0;
      }

      .ddoc .module {
          border-color: transparent;
          background-color: rgba(255, 255, 255, 1);
          border-color: currentColor rgba(233, 233, 233, 1) rgba(233, 233, 233, 1);
          border-image: none;
          border-style: none solid solid;
          border-width: 0 1px 1px;
          box-shadow: 0 0 1px rgba(0, 0, 0, 0.07);
          display: block;
          margin-left: 0;
          min-height: calc(100% - 173px);
          overflow: auto;
          padding-bottom: 100px;
      }

      .ddoc .content_wrapper {
          background-color: rgba(242, 242, 242, 1);
          margin: 0 auto;
          max-width: 980px;
      }

      .ddoc .section {
        padding: 15px 25px 30px;
      }

      .ddoc .section .section {
        margin: 30px 0 0;
        padding: 0;
      }

      .ddoc .para {
        color: rgba(65, 65, 65, 1);
        font-size: 1.4em;
        line-height: 145%;
        margin-bottom: 15px;
      }

      .ddoc .ddoc_examples .para {
        margin-bottom: 0;
      }

      .ddoc .module_name {
          color: rgba(0, 0, 0, 1);
          display: block;
          font-family: Helvetica;
          font-size: 2.8em;
          font-weight: 100;
          margin-bottom: 0;
          padding: 15px 0;
      }

      .ddoc .module a {
          color: rgba(0, 136, 204, 1);
          text-decoration: none;
      }

      .ddoc .code {
        color: rgba(128, 128, 128, 1);
        font-family: Menlo,monospace;
        font-size: 0.85em;
        word-wrap: break-word;
      }

      .ddoc .code i {
        font-style: normal;
      }

      .ddoc .code .code {
        font-size: 1em;
      }

      .ddoc .code_sample {
        background-clip: padding-box;
        margin: 1px 0;
        text-align: left;
      }

      .ddoc .code_sample {
        display: block;
        font-size: 1.4em;
        margin-left: 21px;
      }

      .ddoc ol .code_sample {
        font-size: 1em;
      }

      .ddoc .code_lines {
        counter-reset: li;
        line-height: 1.6em;
        list-style: outside none none;
        margin: 0;
        padding: 0;
      }

      .ddoc .code_listing .code_sample div {
        margin-left: 13px;
        width: 93%;
      }

      .ddoc .code_listing .code_sample div .code_lines li {
        list-style-type: none;
        margin: 0;
        padding-right: 10px;
      }

      .ddoc .code_sample div .code_lines li::before {
        margin-left: -33px;
        margin-right: 25px;
      }

      .ddoc .code_sample div .code_lines li:nth-child(n+10)::before {
        margin-left: -39px;
        margin-right: 25px;
      }

      .ddoc .code_sample div .code_lines li:nth-child(n+100)::before {
        margin-left: -46px;
        margin-right: 25px;
      }

      .ddoc .code_sample .code_lines .code {
        color: #000;
      }

      .ddoc div.dlang {
        margin: 10px 0 21px;
        padding: 4px 0 2px 10px;
      }

      .ddoc div.dlang {
          margin: 10px 0 21px;
          padding: 4px 0 2px 10px;
      }

      .ddoc div.dlang {
        border-left: 5px solid rgba(0, 155, 51, 0.2);
      }

      .ddoc .code_lines li::before {
        color: rgba(128, 128, 128, 1);
        content: counter(li, decimal);
        counter-increment: li;
        font-family: Menlo,monospace;
        font-size: 0.9em;
        margin-right: 16px;
      }

      .ddoc .code_lines li {
        padding-left: 0;
        white-space: pre-wrap;
      }

      .ddoc .code_lines li:only-of-type::before {
        color: rgba(255, 255, 255, 1);
        content: " ";
      }

      .ddoc .code_lines li:only-of-type {
        color: rgba(255, 255, 255, 1);
        content: " ";
      }

      .ddoc .code_lines li:nth-child(n+10) {
        text-indent: -17px;
      }

      .ddoc .code_lines li:nth-child(n+10)::before {
        margin-right: 12px;
      }

      .ddoc .graybox {
        border: 1px solid rgba(233, 233, 233, 1);
        border-collapse: collapse;
        border-spacing: 0;
        empty-cells: hide;
        margin: 20px 0 36px;
        text-align: left;
      }

      .ddoc .graybox p {
        margin: 0;
        min-width: 50px;
      }

      .ddoc th {
        margin: 0;
        max-width: 260px;
        padding: 5px 10px 5px 10px;
        vertical-align: bottom;
      }

      .ddoc td {
        border: 1px solid rgba(233, 233, 233, 1);
        margin: 0;
        max-width: 260px;
        padding: 5px 10px 5px 10px;
        vertical-align: middle;
      }

      .punctuation {
        color: rgba(0, 0, 0, 1);
      }

      .comment {
        color: rgba(0, 131, 18, 1);
      }

      .operator {
        color: #000;
      }

      .keyword {
        color: rgba(170, 13, 145, 1);
      }

      .keyword_type {
        color: rgba(170, 51, 145, 1);
      }

      .string_literal {
        color: rgba(196, 26, 22, 1);
      }

      .ddoc_psuper_symbol {
        color: rgba(92, 38, 153, 1);
      }

      .param {
        color: rgba(0, 0, 0, 1);
      }

      .psymbol {
        color: rgba(0, 0, 0, 1);
      }

      .ddoc_member_header .ddoc_header_anchor .code {
        font-size: 1em;
      }
    </style>
  </head>
  <body id="ddoc_main" class="ddoc dlang">
    <div class="content_wrapper">
      <article class="module">
        <h1 class="module_name">Modules and Libraries</h1>
        <section id="module_content"><br><br>
<br><br>

<br><br>
<p>The building blocks of D programs (and libraries) are modules.
</p>
<br><br>
<p>D modules are based on a simple concept: Every source file is a module. Accordingly, the single files that we have been writing our programs in have all been individual modules.
</p>
<br><br>
<p>By default, the name of a module is the same as its filename without the  extension. When explicitly specified, the name of the module is defined by the  keyword, which must appear as the first non-comment line in the source file.
</p>
<br><br>
<p>For example, assuming that the name of a source file is "cat.d", the name of the module would be specified by the  keyword:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">module</span> cat;

<span class="keyword">class</span> Cat {
    <span class="comment">// ...
</span>}
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>The  line is optional if the module is not part of any package (see below). When not specified, it is the same as the file name without the  extension.
</p>
<br><br>
<h6>      and </h6>
<br><br>
<p> and  at module scope are similar to their  and  counterparts:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">module</span> cat;

<span class="keyword">static</span> <span class="keyword">this</span>() {
    <span class="comment">// ... the initial operations of the module ...
</span>}

<span class="keyword">static</span> ~<span class="keyword">this</span>() {
    <span class="comment">// ... the final operations of the module ...
</span>}
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>Code that are in these scopes are executed once for each thread. (Note that most programs consist of a single thread that starts executing the  function.) Code that should be executed only once for the entire program (e.g. initializing  and  variables) must be defined in  and  blocks, which will be covered in <a href="concurrency_shared.html">the Data Sharing Concurrency chapter</a>.
</p>
<br><br>
<h6>File and module names</h6>
<br><br>
<p>D supports Unicode in source code and module names. However, the Unicode support of file systems vary. For example, although most Linux file systems support Unicode, the file names in Windows file systems may not distinguish between lower and upper case letters. Additionally, most file systems limit the characters that can be used in file and directory names.
</p>
<br><br>
<p>For portability reasons, I recommend that you use only lower case ASCII letters in file names. For example, "resume.d" would be a suitable file name for a class named .
</p>
<br><br>
<p>Accordingly, the name of the module would consist of ASCII letters as well:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">module</span> resume;  <span class="comment">// Module name consisting of ASCII letters
</span>
<span class="keyword">class</span> Résumé {  <span class="comment">// Program code consisting of Unicode characters
</span>    <span class="comment">// ...
</span>}
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<h5> Packages</h5>
<br><br>
<p>A combination of related modules are called a <i>package</i>. D packages are a simple concept as well: The source files that are inside the same directory are considered to belong to the same package. The name of the directory becomes the name of the package, which must also be specified as the first parts of module names.
</p>
<br><br>
<p>For example, if "cat.d" and "dog.d" are inside the directory "animal", then specifying the directory name along with the module name makes them be a part of the same package:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">module</span> cat;

<span class="keyword">class</span> Cat {
    <span class="comment">// ...
</span>}
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>Similarly, for the  module:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">module</span> dog;

<span class="keyword">class</span> Dog {
    <span class="comment">// ...
</span>}
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>For modules that are parts of packages, the  line is not optional and the whole module name including the package name must be specified.
</p>
<br><br>
<p>Since package names correspond to directory names, the package names of modules that are deeper than one directory level must reflect that hierarchy. For example, if the "animal" directory included a "vertebrate" directory, the name of a module inside that directory would include  as well:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">module</span> animal.vertebrate.cat;
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>The directory hierarchies can be arbitrarily complex depending on the needs of the program. Relatively short programs usually have all of their source files in a single directory.
</p>
<br><br>
<h5>Importing modules</h5>
<br><br>
<p> The  keyword, which we have been using in almost every program so far, is for introducing a module to the current module:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">import</span> std.stdio;
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>The module name may contain the package name as well. For example, the  part above indicates that  is a module that is a part of the  package.
</p>
<br><br>
<p>The  and  modules would be imported similarly. Let's assume that the following code is inside a file named "deneme.d":
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">module</span> deneme;        <span class="comment">// the name of this module
</span>
<span class="keyword">import</span> animal.cat;    <span class="comment">// a module that it uses
</span><span class="keyword">import</span> animal.dog;    <span class="comment">// another module that it uses
</span>
<span class="keyword">void</span> main() {
    <span class="keyword">auto</span> cat = <span class="keyword">new</span> Cat();
    <span class="keyword">auto</span> dog = <span class="keyword">new</span> Dog();
}
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p><i><b>Note:</b> As described below, for the program to be built correctly, those module files must also be provided to the linker.</i>
</p>
<br><br>
<p>More than one module can be imported at the same time:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">import</span> animal.cat, animal.dog;
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<h6>  Selective imports</h6>
<br><br>
<p> Instead of importing a module as a whole with all of its names, it is possible to import just specific names from it.
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">import</span> std.stdio 

<span class="comment">// ...
</span>
    writeln(<span class="string_literal">"Hello %s."</span>, name);    
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>The code above cannot be compiled because only  is imported, not .
</p>
<br><br>
<p>Selective imports are considered to be better than importing an entire module because it reduces the chance of <i>name collisions</i>. As we will see in an example below, a name collision can occur when the same name appears in more than one imported module.
</p>
<br><br>
<p>Selective imports may reduce compilation times as well because the compiler needs to compile only the parts of a module that are actually imported. On the other hand, selective imports require more work as every imported name must be specified separately on the  line.
</p>
<br><br>
<p>This book does not take advantage of selective imports mostly for brevity.
</p>
<br><br>
<h6>  Local imports</h6>
<br><br>
<p>So far we have always imported all of the required modules at the tops of programs:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">import</span> std.stdio;     
<span class="keyword">import</span> std.string;    

<span class="comment">// ... the rest of the module ...
</span></code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>Instead, modules can be imported at any other line of the source code. For example, the two functions of the following program import the modules that they need in their own scopes:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code">string makeGreeting(string name) {
    

    string greeting = format(<span class="string_literal">"Hello %s"</span>, name);
    <span class="keyword">return</span> greeting;
}

<span class="keyword">void</span> interactWithUser() {
    

    write(<span class="string_literal">"Please enter your name: "</span>);
    string name = readln();
    writeln(makeGreeting(name));
}

<span class="keyword">void</span> main() {
    interactWithUser();
}
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>Local imports are recommended over global imports because instead of importing every module unconditionally at the top, the compiler can import only the ones that are in the scopes that are actually used. If the compiler knows that the program never calls a function, it can ignore the import directives inside that function.
</p>
<br><br>
<p>Additionally, a locally imported module is accessible only inside that local scope, further reducing the risk of name collisions.
</p>
<br><br>
<p>We will later see in <a href="mixin.html">the Mixins chapter</a> that local imports are in fact required for <i>template mixins.</i>
</p>
<br><br>
<p>The examples throughout this book do not take advantage of local imports mostly because local imports were added to D after the start of writing this book.
</p>
<br><br>
<h6>Locations of modules</h6>
<br><br>
<p>The compiler finds the module files by converting the package and module names directly to directory and file names.
</p>
<br><br>
<p>For example, the previous two modules would be located as "animal/cat.d" and "animal/dog.d", respectively (or "animal\cat.d" and "animal\dog.d", depending on the file system). Considering the main source file as well, the program above consists of three files.
</p>
<br><br>
<h6>Long and short module names</h6>
<br><br>
<p>The names that are used in the program may be spelled out with the module and package names:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code">    <span class="keyword">auto</span> cat0 = Cat();
    <span class="keyword">auto</span> cat1 = animal.cat.Cat();   <span class="comment">// same as above
</span></code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>The long names are normally not needed but sometimes there are name conflicts. For example, when referring to a name that appears in more than one module, the compiler cannot decide which one is meant.
</p>
<br><br>
<p>The following program is spelling out the long names to distinguish between two separate  structs that are defined in two separate modules:  and :
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">import</span> animal.jaguar;
<span class="keyword">import</span> car.jaguar;

<span class="comment">// ...
</span>
    <span class="keyword">auto</span> conflicted =  Jaguar();            

    <span class="keyword">auto</span> myAnimal = animal.jaguar.Jaguar(); 
    <span class="keyword">auto</span> myCar    =    car.jaguar.Jaguar(); 
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<h6>Renamed imports</h6>
<br><br>
<p> It is possible to rename imported modules either for convenience or to resolve name conflicts:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">import</span>  animal.jaguar;
<span class="keyword">import</span>  car.jaguar;

<span class="comment">// ...
</span>
    <span class="keyword">auto</span> myAnimal = Jaguar();       
    <span class="keyword">auto</span> myCar    = Jaguar();         
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>Instead of renaming the entire import, it is possible to rename individual imported symbols.
</p>
<br><br>
<p>For example, when the following code is compiled with the  compiler switch, the compiler would warn that  <i>function</i> should be preferred instead of  <i>property</i>:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">import</span> std.stdio;
<span class="keyword">import</span> std.algorithm;

<span class="comment">// ...
</span>
    <span class="keyword">auto</span> arr = [ 2, 10, 1, 5 ];
    arr;    
    writeln(arr);
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>

<br><br>
<p><i><b>Note:</b> The  expression above is the equivalent of  but it is written in the UFCS syntax, which we will see in <a href="ufcs.html">a later chapter</a>.</i>
</p>
<br><br>
<p>One solution in this case is to import  by renaming it. The new name  below means the  <i>function</i> and the compiler warning is eliminated:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">import</span> std.stdio;
<span class="keyword">import</span> std.algorithm :  sort;

<span class="keyword">void</span> main() {
    <span class="keyword">auto</span> arr = [ 2, 10, 1, 5 ];
    arr;
    writeln(arr);
}
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<h6> Importing a package as a module</h6>
<br><br>
<p>Sometimes multiple modules of a package may need to be imported together. For example, whenever one module from the  package is imported, all of the other modules may need to be imported as well: , , , etc.
</p>
<br><br>
<p>In such cases it is possible to import some or all of the modules of a package by importing the package as if it were a module:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">import</span> animal;    <span class="comment">// ← entire package imported as a module
</span></code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p> It is achieved by a special configuration file in the package directory, which must always be named as . That special file includes the  directive for the package and imports the modules of the package <i>publicly</i>:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="comment">// The contents of the file animal/package.d:
</span><span class="keyword">module</span> animal;

 <span class="keyword">import</span> animal.cat;
 <span class="keyword">import</span> animal.dog;
 <span class="keyword">import</span> animal.horse;
<span class="comment">// ... same for the other modules ...
</span></code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>Importing a module publicly makes that module available to the users of the importing module as well. As a result, when the users import just the  module (which actually is a package), they get access to  and all the other modules as well.
</p>
<br><br>
<h6> Deprecating features</h6>
<br><br>
<p>Modules evolve over time and get released under new version numbers. Going forward from a particular version, the authors of the module may decide to <i>deprecate</i> some of its features. Deprecating a feature means that newly written programs should not rely on that feature anymore; using a deprecated feature is disapproved. Deprecated features may even be removed from the module in the future.
</p>
<br><br>
<p>There can be many reasons why a feature is deprecated. For example, the new version of the module may include a better alternative, the feature may have been moved to another module, the name of the feature may have changed to be consistent with the rest of the module, etc.
</p>
<br><br>
<p>The deprecation of a feature is made official by defining it with the  attribute, optionally with a custom message. For example, the following deprecation message communicates to its user that the name of the function has been changed:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">deprecated</span>(<span class="string_literal">"Please use doSomething() instead."</span>)
<span class="keyword">void</span> do_something() {
    <span class="comment">// ...
</span>}
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>By specifying one of the following compiler switches, the user of the module can determine how the compiler should react when a deprecated feature is used:
</p>
<br><br>
<ul><li> : Using deprecated features should be allowed</li>
<li> : Using deprecated features should produce compilation warnings</li>
<li> : Using deprecated features should produce compilation errors</li>
</ul>
<br><br>
<p>For example, calling the deprecated feature in a program and compiling it with  would fail compilation:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code">    do_something();
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>

<br><br>
<p>The name of a deprecated feature is usually defined as an  of the new name:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">deprecated</span>(<span class="string_literal">"Please use doSomething() instead."</span>)
 = doSomething;

<span class="keyword">void</span> doSomething() {
    <span class="comment">// ...
</span>}
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>We will see the  keyword in <a href="alias.html">a later chapter</a>.
</p>
<br><br>
<h6>Adding module definitions to the program</h6>
<br><br>
<p>The  keyword is not sufficient to make modules become parts of the program. It simply makes available the features of a module inside the current module. That much is needed only to <i>compile</i> the code.
</p>
<br><br>
<p>It is not possible to build the previous program only by the main source file, "deneme.d":
</p>
<br><br>

<br><br>
<p>Those error messages are generated by the <i>linker</i>. Although they are not user-friendly messages, they indicate that some definitions that are needed by the program are missing.
</p>
<br><br>
<p>  The actual build of the program is the responsibility of the linker, which gets called automatically by the compiler behind the scenes. The compiler passes the modules that it has just compiled to the linker, and the linker combines those modules (and libraries) to produce the executable program.
</p>
<br><br>
<p>For that reason, all of the modules that make up the program must be provided to the linker. For the program above to be built, "animal/cat.d" and "animal/dog.d" must also be specified on the compilation line:
</p>
<br><br>

<br><br>
<p>Instead of having to mention the modules individually every time on the command line, they can be combined as libraries.
</p>
<br><br>
<h5> Libraries</h5>
<br><br>
<p>A collection of compiled modules is called a library. Libraries are not programs themselves; they do not have the  function. Libraries contain compiled definitions of functions, structs, classes, and other features of modules, which are to be linked later by the linker to produce the program.
</p>
<br><br>
<p>dmd's  command line option is for making libraries. The following command makes a library that contains the "cat.d" and the "dog.d" modules. The name of the library is specified with the  switch:
</p>
<br><br>

<br><br>
<p>The actual name of the library file depends on the platform. For example, the extension of library files is  under Linux systems: .
</p>
<br><br>
<p>Once that library is built, It is not necessary to specify the "animal/cat.d" and "animal/dog.d" modules individually anymore. The library file is sufficient:
</p>
<br><br>

<br><br>
<p>The command above replaces the following one:
</p>
<br><br>

<br><br>
<p> As an exception, the D standard library Phobos need not be specified on the command line. That library is automatically included behind the scenes. Otherwise, it could be specified similar to the following line:
</p>
<br><br>

<br><br>
<p><i><b>Note:</b> The name and location of the Phobos library may be different on different systems.</i>
</p>
<br><br>
<h6>Using libraries of other languages</h6>
<br><br>
<p>D can use libraries that are written in some other compiled languages like C and C++. However, because different languages use different <i>linkages</i>, such libraries are available to D code only through their <i>D bindings</i>.
</p>
<br><br>
<p>    Linkage is the set of rules that determines the accessibility of entities in a library as well as how the names (symbols) of those entities are represented in compiled code. The names in compiled code are different from the names that the programmer writes in source code: The compiled names are <i>name-mangled</i> according to the rules of a particular language or compiler.
</p>
<br><br>
<p>  For example, according to C linkage, the C function name  would be <i>mangled</i> with a leading underscore as  in compiled code. Name-mangling is more complex in languages like C++ and D because these languages allow using the same name for different entities in different modules, structs, classes, etc. as well as for overloads of functions. A D function named  in source code has to be mangled in a way that would differentiate it from all other  names that can exist in a program. Although the exact mangled names are usually not important to the programmer, the  module can be used to mangle and demangle symbols:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">module</span> deneme;

<span class="keyword">import</span> std.stdio;
<span class="keyword">import</span> core.demangle;

<span class="keyword">void</span> foo() {
}

<span class="keyword">void</span> main() {
    writeln(!(<span class="keyword">typeof</span>(foo))(<span class="string_literal">"deneme.foo"</span>));
}
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p><i><b>Note:</b>  is a function template, the syntax of which is unfamiliar at this point in the book. We will see templates later in <a href="templates.html">the Templates chapter</a>.</i>
</p>
<br><br>
<p>A function that has the same type as  above and is named as , has the following mangled name in compiled code:
</p>
<br><br>

<br><br>
<p>Name mangling is the reason why linker error messages cannot include user-friendly names. For example, a symbol in an error message above was  instead of .
</p>
<br><br>
<p>        The  attribute specifies the linkage of entities. The valid linkage types that can be used with  are , , , , , , and . For example, when a D code needs to make a call to a function that is defined in a C library, that function must be declared as having C linkage:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="comment">// Declaring that 'foo' has C linkage (e.g. it may be defined
</span><span class="comment">// in a C library):
</span> <span class="keyword">void</span> foo();

<span class="keyword">void</span> main() {
    foo();  <span class="comment">// this call would be compiled as a call to '_foo'
</span>}
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p> In the case of C++ linkage, the namespace that a name is defined in is specified as the second argument to the  attribute. For example, according to the following declaration,  is the declaration of the function  defined in a C++ library (note that D code uses dots instead of colons):
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="comment">// Declaring that 'bar' is defined inside namespace a::b::c
</span><span class="comment">// and that it has C++ linkage:
</span><span class="keyword">extern</span>(C++, ) <span class="keyword">void</span> bar();

<span class="keyword">void</span> main() {
    bar();          <span class="comment">// a call to a::b::c::bar()
</span>    a.b.c.bar();    <span class="comment">// same as above
</span>}
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p> A file that contains such D declarations of the features of an external library is called a <i>D binding</i> of that library. Fortunately, in most cases programmers do not need to write them from scratch as D bindings for many popular non-D libraries are available through <a href="https://github.com/D-Programming-Deimos/">the Deimos project</a>.
</p>
<br><br>
<p> When used without a linkage type, the  attribute has a different meaning: It specifies that the storage for a variable is the responsibility of an external library; the D compiler should not reserve space for it in this module. Having different meanings,  and  can be used together:
</p>
<br><br>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="comment">// Declaring that the storage for 'g_variable' is already
</span><span class="comment">// defined in a C library:
</span><span class="keyword">extern</span>(C)  <span class="keyword">int</span> g_variable;
</code></li>
      </ol>
    </div>
  </div>
</section>
<br><br>
<p>If the  attribute were not specified above, while having C linkage,  would be a variable of this D module.
</p>

</section>
      </article>
    </div>
  </body>
</html>
